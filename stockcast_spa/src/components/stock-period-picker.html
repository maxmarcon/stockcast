<b-form-row>
    <b-col md>
        <b-form-group
                label-for="stocks">
            <template v-slot:label>
                Stocks:
                <b-spinner v-if="ongoing" small></b-spinner>
            </template>
            <vue-tags-input
                    autocomplete="off"
                    id="stocks"
                    v-model="tag"
                    :tags="value.stocks"
                    :avoidAddingDuplicates="true"
                    :autocomplete-items="autocompleteItems"
                    :max-tags="maxTags"
                    :maxlength="50"
                    :add-only-from-autocomplete="true"
                    :autocomplete-min-length="autocompleteMinLength"
                    @tags-changed="tagsChanged"
                    placeholder="Search by name, ticker, or FIGI">

                <template v-slot:autocomplete-item="{item, performAdd}">
                    <div @click="performAdd(item)">
                        <span>&nbsp; {{ `${item.text} (${item.currency})` }}</span>
                        <span v-if="item.isin">&nbsp; {{ '[ISIN:' + item.isin + ']' }}</span>
                        <span v-else-if="item.figi">&nbsp; {{ '[FIGI:' + item.figi + ']' }}</span>
                        <span class="em small">&nbsp; {{ ellipsize(item.name, 40) }} </span>
                    </div>
                </template>
                <template v-slot:tag-right="{tag: {isin, figi}}">
                    <span class="ml-1 small" v-if="isin">{{ '[ISIN:' + isin + ']' }}</span>
                    <span class="ml-1 small" v-else-if="figi">{{ '[FIGI:' + figi + ']' }}</span>
                </template>
            </vue-tags-input>
        </b-form-group>
    </b-col>
    <b-col md="auto">
        <b-form-group label="From:"
                      label-for="date-from">
            <b-form-datepicker id="date-from"
                               :value="value.dateFrom"
                               @input="dateFromChanged"
                               :date-format-options="dateFormatOptions"
                               :value-as-date="true"
                               :max="yesterday">
            </b-form-datepicker>
        </b-form-group>
    </b-col>
    <b-col md="auto">
        <b-form-group label="To:"
                      label-for="date-to">
            <b-form-datepicker id="date-to"
                               :value="value.dateTo"
                               @input="dateToChanged"
                               :date-format-options="dateFormatOptions"
                               :value-as-date="true"
                               :max="yesterday">
            </b-form-datepicker>
        </b-form-group>
    </b-col>
</b-form-row>